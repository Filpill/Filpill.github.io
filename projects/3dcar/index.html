<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>3D Printed Car - Bluetooth Controller Interface | Filip Livancic</title>
<meta name="keywords" content="design, engineering, mechanical, automotive, bluetooth, processing3, 3d-printing, programming, mechatronics">
<meta name="description" content="Summary Personal project to design and build a 3D printed car from scratch. Project status is currently dormant as I haven&rsquo;t had time to iterate over the design due to the complexity and required time investment. The project was gradually being built over the course of 2020 and 2021. Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects. The project requires some simplification for the desired goal of having a robust car design.">
<meta name="author" content="">
<link rel="canonical" href="https://filpill.github.io/projects/3dcar/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.003c9d079ab327c0f4d881effa9b0c186b47f63444823d6eff1ad4bc669c1611.css" integrity="sha256-ADydB5qzJ8D02IHv&#43;psMGGtH9jREgj1u/xrUvGacFhE=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://filpill.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://filpill.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://filpill.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://filpill.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://filpill.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="3D Printed Car - Bluetooth Controller Interface" />
<meta property="og:description" content="Summary Personal project to design and build a 3D printed car from scratch. Project status is currently dormant as I haven&rsquo;t had time to iterate over the design due to the complexity and required time investment. The project was gradually being built over the course of 2020 and 2021. Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects. The project requires some simplification for the desired goal of having a robust car design." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://filpill.github.io/projects/3dcar/" />
<meta property="og:image" content="https://filpill.github.io/img/3dcar/iso-render.png" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2021-10-21T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-10-21T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://filpill.github.io/img/3dcar/iso-render.png" />
<meta name="twitter:title" content="3D Printed Car - Bluetooth Controller Interface"/>
<meta name="twitter:description" content="Summary Personal project to design and build a 3D printed car from scratch. Project status is currently dormant as I haven&rsquo;t had time to iterate over the design due to the complexity and required time investment. The project was gradually being built over the course of 2020 and 2021. Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects. The project requires some simplification for the desired goal of having a robust car design."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "List of Projects",
      "item": "https://filpill.github.io/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "3D Printed Car - Bluetooth Controller Interface",
      "item": "https://filpill.github.io/projects/3dcar/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "3D Printed Car - Bluetooth Controller Interface",
  "name": "3D Printed Car - Bluetooth Controller Interface",
  "description": "Summary Personal project to design and build a 3D printed car from scratch. Project status is currently dormant as I haven\u0026rsquo;t had time to iterate over the design due to the complexity and required time investment. The project was gradually being built over the course of 2020 and 2021. Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects. The project requires some simplification for the desired goal of having a robust car design.",
  "keywords": [
    "design", "engineering", "mechanical", "automotive", "bluetooth", "processing3", "3d-printing", "programming", "mechatronics"
  ],
  "articleBody": "Summary Personal project to design and build a 3D printed car from scratch. Project status is currently dormant as I haven’t had time to iterate over the design due to the complexity and required time investment. The project was gradually being built over the course of 2020 and 2021. Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects. The project requires some simplification for the desired goal of having a robust car design. I will share the existing highlights of this projects for the time being. Link to Project Document Discussing Changes From V1 to V2 on Google Drive\nLink to programming of control loop for 3D Printed Car\nSolidworks Design Side View Back View Isometric View Programming Processing3 Controller Program - Bluetooth Interface import processing.serial.*; import controlP5.*; Serial myPort; ControlP5 cp5; //Initialising Global Variables int Motor_Speed = 0; int Steering = 0; int Forward = 0; int Backward = 0; String angleStatus; void setup() { //Inserting Controller Buttons and Sliders size(450,500); cp5 = new ControlP5(this); cp5.addSlider(\"Steering\").setPosition(50,150). setSize(200, 100). setRange(0,255); cp5.addSlider(\"Motor_Speed\").setPosition(50,275). setSize(175, 100). setRange(0,205); cp5.addButton(\"Forward\").setValue(205).setPosition(300,150).setSize(100,100); cp5.addButton(\"Backward\").setValue(205).setPosition(300,275).setSize(100,100); //Initialising Bluetooth Communication myPort = new Serial(this, \"COM3\", 9600); // Starts the serial communication at 9600 baud rate myPort.bufferUntil('\\n');// Reading Serial Data up to new line. The character '\\n' or 'New Line' } void serialEvent (Serial myPort){// Checks for available data in the Serial Port angleStatus = myPort.readStringUntil('\\n');//Reads the data sent from the Arduino } void draw (){ //Drawing Title and Backround of Controller background(20,150,200); fill(120,170,220); rect(10,10,425,50); fill(0); textSize(23); text(\"RC Car Bluetooth Controller Interface\",15,45); //Defining RC Car Parameters 000-000-0 //000-xxx-x = Steering //xxx-000-x = Motor Speed //xxx-xxx-0 = Motor ON/OFF //String needs to be defined inside the draw function to keep updating strings String sfSteering = nf(Steering,3); //3-digit steering value String sfMotor_Speed = nf(Motor_Speed,3); //3-digit motor-speed value if(mousePressed\u0026\u0026 mouseX\u003e300 \u0026\u0026 mouseX\u003c400 \u0026\u0026 mouseY\u003e150 \u0026\u0026 mouseY\u003c250){ println('\u003c'+sfSteering + sfMotor_Speed + \"1\"+'\u003e'); myPort.write('\u003c'+sfSteering + sfMotor_Speed + \"1\"+'\u003e'); delay(100);} //Send Go FWD String to Arduino else if(mousePressed\u0026\u0026 mouseX\u003e300 \u0026\u0026 mouseX\u003c400 \u0026\u0026 mouseY\u003e275 \u0026\u0026 mouseY\u003c375){ println('\u003c'+sfSteering + sfMotor_Speed + \"2\"+'\u003e'); myPort.write('\u003c'+sfSteering + sfMotor_Speed + \"2\"+'\u003e'); delay(100);} //Send Go BCK String to Arduino else{ println('\u003c'+sfSteering + sfMotor_Speed + \"0\"+'\u003e'); myPort.write('\u003c'+sfSteering + sfMotor_Speed + \"0\"+'\u003e'); delay(100);} //Send STOP String to Arduino } Arduino Control Loop #include //for reading characters in const byte numChars = 32; char receivedChars[numChars]; boolean newData = false; //Inititalise Servo Servo myServo; //Define Motor H-Bridge Parameters int In1 = 7; int In2 = 8; int ENA = 5; //Define variables for incoming bluetooth data long tmr; int flag = 0; String RCSteer; String RCMotorSpeed; String Motor_Polarity; int RCSteer_Int ; int RCMotorSpeed_Int; int Motor_Polarity_Int; int angle; char c; void setup() { //Inialise Servo Data Pin myServo.attach(3); //Initialise H-Bridge Pins Data Output pinMode (In1, OUTPUT); pinMode (In2, OUTPUT); pinMode (ENA, OUTPUT); //Initialise Bluetooth Serial communication + Serial Interupt Signal Serial.begin(9600); delay(100); } void loop() { //Read Strings into Arduino recvWithStartEndMarkers(); showNewData(); //Convert Character Array to String Object String RCString = receivedChars; //Extract Control Components RCSteer = RCString.substring(0, 3); RCMotorSpeed = RCString.substring(3, 6); Motor_Polarity = RCString.substring(6, 7); //Convert Strings to Integers RCSteer_Int = RCSteer.toInt(); RCMotorSpeed_Int = RCMotorSpeed.toInt(); Motor_Polarity_Int = Motor_Polarity.toInt(); //Print data to Serial Monitor Serial.print(\"RCcode: \"); Serial.print(receivedChars); Serial.print(\" Steering Value: \"); Serial.print(RCSteer_Int); Serial.print(\" ANGLE: \"); Serial.print(angle); Serial.print(\" Speed Value: \"); Serial.print(RCMotorSpeed_Int); Serial.print(\" Polarity Value: \"); Serial.println(Motor_Polarity_Int); //Calling Steer and MotorControl Functions Steer(RCSteer_Int); MotorControl(Motor_Polarity_Int,RCMotorSpeed_Int); } void Steer(int RCSteer_Int){ //Send Steering Data to Servo angle = map(RCSteer_Int, 0, 255, 0, 180); myServo.write(angle); } void MotorControl(int Motor_Polarity_Int, int RCMotorSpeed_Int){ //Motor Logic switch(Motor_Polarity_Int){ // FORWARDS case 1: analogWrite(ENA, RCMotorSpeed_Int); digitalWrite(In1, HIGH); digitalWrite(In2, LOW); break; // BACKWARDS case 2: analogWrite(ENA, RCMotorSpeed_Int); digitalWrite(In1, LOW); digitalWrite(In2, HIGH); break; // STOP case 0: digitalWrite(In1, LOW); digitalWrite(In2, LOW); break; } } void recvWithStartEndMarkers() { static boolean recvInProgress = false; static byte ndx = 0; char startMarker = '\u003c'; char endMarker = '\u003e'; char rc; while (Serial.available() \u003e 0 \u0026\u0026 newData == false) { rc = Serial.read(); if (recvInProgress == true) { if (rc != endMarker) { receivedChars[ndx] = rc; ndx++; if (ndx \u003e= numChars) { ndx = numChars - 1; } } else { receivedChars[ndx] = '\\0'; // terminate the string recvInProgress = false; ndx = 0; newData = true; } } else if (rc == startMarker) { recvInProgress = true; } } } void showNewData() { if (newData == true ){ newData = false; } } ",
  "wordCount" : "722",
  "inLanguage": "en",
  "image":"https://filpill.github.io/img/3dcar/iso-render.png","datePublished": "2021-10-21T00:00:00Z",
  "dateModified": "2021-10-21T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://filpill.github.io/projects/3dcar/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Filip Livancic",
    "logo": {
      "@type": "ImageObject",
      "url": "https://filpill.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose'}});</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://filpill.github.io/" accesskey="h" title="Filip Livancic (Alt + H)">Filip Livancic</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://filpill.github.io/profile/" title="Profile">
                    <span>Profile</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://filpill.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://filpill.github.io/projects/">List of Projects</a></div>
    <h1 class="post-title">
      3D Printed Car - Bluetooth Controller Interface
    </h1>
    <div class="post-meta"><span title='2021-10-21 00:00:00 +0000 UTC'>October 21, 2021</span>

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://filpill.github.io/img/3dcar/iso-render.png" alt="Isometric View Car">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#summary" aria-label="Summary">Summary</a></li>
                <li>
                    <a href="#solidworks-design" aria-label="Solidworks Design">Solidworks Design</a><ul>
                        
                <li>
                    <a href="#side-view" aria-label="Side View">Side View</a></li>
                <li>
                    <a href="#back-view" aria-label="Back View">Back View</a></li>
                <li>
                    <a href="#isometric-view" aria-label="Isometric View">Isometric View</a></li></ul>
                </li>
                <li>
                    <a href="#programming" aria-label="Programming">Programming</a><ul>
                        
                <li>
                    <a href="#processing3-controller-program---bluetooth-interface" aria-label="Processing3 Controller Program - Bluetooth Interface">Processing3 Controller Program - Bluetooth Interface</a></li>
                <li>
                    <a href="#arduino-control-loop" aria-label="Arduino Control Loop">Arduino Control Loop</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h1>
<ul>
<li>Personal project to design and build a 3D printed car from scratch.</li>
<li>Project status is currently dormant as I haven&rsquo;t had time to iterate over the design due to the complexity and required time investment.
<ul>
<li>The project was gradually being built over the course of 2020 and 2021.</li>
<li>Though incomplete, I may return to this project at a later stage (with a smaller scope) after finishing some other projects.</li>
<li>The project requires some simplification for the desired goal of having a robust car design.</li>
</ul>
</li>
<li>I will share the existing highlights of this projects for the time being.</li>
</ul>
<p><a href="https://drive.google.com/file/d/1EldK84WdVEGBc5a2cYDj4144Esv3kpME/view">Link to Project Document Discussing Changes From V1 to V2 on Google Drive</a></p>
<p><a href="https://github.com/Filpill/BTCarController">Link to programming of control loop for 3D Printed Car</a></p>
<h1 id="solidworks-design">Solidworks Design<a hidden class="anchor" aria-hidden="true" href="#solidworks-design">#</a></h1>
<h2 id="side-view">Side View<a hidden class="anchor" aria-hidden="true" href="#side-view">#</a></h2>


	<img src="/img/3dcar/side.png" width="720"  />


<h2 id="back-view">Back View<a hidden class="anchor" aria-hidden="true" href="#back-view">#</a></h2>


	<img src="/img/3dcar/back.png" width="720"  />


<h2 id="isometric-view">Isometric View<a hidden class="anchor" aria-hidden="true" href="#isometric-view">#</a></h2>


	<img src="/img/3dcar/isometric.png" width="720"  />


<h1 id="programming">Programming<a hidden class="anchor" aria-hidden="true" href="#programming">#</a></h1>
<h2 id="processing3-controller-program---bluetooth-interface">Processing3 Controller Program - Bluetooth Interface<a hidden class="anchor" aria-hidden="true" href="#processing3-controller-program---bluetooth-interface">#</a></h2>
<pre tabindex="0"><code>import processing.serial.*;
import controlP5.*;
Serial myPort;
ControlP5 cp5;

//Initialising Global Variables
int Motor_Speed = 0;
int Steering = 0;
int Forward = 0;
int Backward = 0;
String angleStatus;

void setup() {

//Inserting Controller Buttons and Sliders

size(450,500);
cp5 = new ControlP5(this);
cp5.addSlider(&#34;Steering&#34;).setPosition(50,150).  setSize(200, 100). setRange(0,255);
cp5.addSlider(&#34;Motor_Speed&#34;).setPosition(50,275).  setSize(175, 100). setRange(0,205);
cp5.addButton(&#34;Forward&#34;).setValue(205).setPosition(300,150).setSize(100,100);
cp5.addButton(&#34;Backward&#34;).setValue(205).setPosition(300,275).setSize(100,100);

//Initialising Bluetooth Communication

myPort = new Serial(this, &#34;COM3&#34;, 9600); // Starts the serial communication at 9600 baud rate
myPort.bufferUntil(&#39;\n&#39;);// Reading Serial Data up to new line. The character &#39;\n&#39; or &#39;New Line&#39;
}

void serialEvent (Serial myPort){// Checks for available data in the Serial Port
angleStatus = myPort.readStringUntil(&#39;\n&#39;);//Reads the data sent from the Arduino
}

void draw (){

//Drawing Title and Backround of Controller
  background(20,150,200);
  fill(120,170,220);
  rect(10,10,425,50);
  fill(0);
  textSize(23);
  text(&#34;RC Car Bluetooth Controller Interface&#34;,15,45);

  //Defining RC Car Parameters 000-000-0
  //000-xxx-x = Steering
  //xxx-000-x = Motor Speed
  //xxx-xxx-0 = Motor ON/OFF

//String needs to be defined inside the draw function to keep updating strings
String sfSteering = nf(Steering,3);       //3-digit steering value
String sfMotor_Speed = nf(Motor_Speed,3); //3-digit motor-speed value


if(mousePressed&amp;&amp; mouseX&gt;300 &amp;&amp; mouseX&lt;400 &amp;&amp; mouseY&gt;150 &amp;&amp; mouseY&lt;250){
       println(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;1&#34;+&#39;&gt;&#39;);
       myPort.write(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;1&#34;+&#39;&gt;&#39;); delay(100);} //Send Go FWD String to Arduino

else if(mousePressed&amp;&amp; mouseX&gt;300 &amp;&amp; mouseX&lt;400 &amp;&amp; mouseY&gt;275 &amp;&amp; mouseY&lt;375){
       println(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;2&#34;+&#39;&gt;&#39;);

       myPort.write(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;2&#34;+&#39;&gt;&#39;); delay(100);} //Send Go BCK String to Arduino
     else{
       println(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;0&#34;+&#39;&gt;&#39;);

       myPort.write(&#39;&lt;&#39;+sfSteering + sfMotor_Speed + &#34;0&#34;+&#39;&gt;&#39;); delay(100);} //Send STOP String to Arduino

}
</code></pre><h2 id="arduino-control-loop">Arduino Control Loop<a hidden class="anchor" aria-hidden="true" href="#arduino-control-loop">#</a></h2>
<pre tabindex="0"><code>#include &lt;Servo.h&gt;

//for reading characters in

const byte numChars = 32;
char receivedChars[numChars];

boolean newData = false;

//Inititalise Servo
Servo myServo;

//Define Motor H-Bridge Parameters
int In1 = 7;
int In2 = 8;
int ENA = 5;

//Define variables for incoming bluetooth data
long tmr;
int flag = 0;
String RCSteer;
String RCMotorSpeed;
String Motor_Polarity;
int RCSteer_Int ;
int RCMotorSpeed_Int;
int Motor_Polarity_Int;
int angle;
char  c;

void setup() {

  //Inialise Servo Data Pin
  myServo.attach(3);

  //Initialise H-Bridge Pins Data Output
  pinMode (In1, OUTPUT);
  pinMode (In2, OUTPUT);
  pinMode (ENA, OUTPUT);

  //Initialise Bluetooth Serial communication + Serial Interupt Signal
  Serial.begin(9600);
  delay(100);
}

void loop() {

  //Read Strings into Arduino
    recvWithStartEndMarkers();
    showNewData();

     //Convert Character Array to String Object
    String RCString = receivedChars;

    //Extract Control Components
    RCSteer = RCString.substring(0, 3);
    RCMotorSpeed = RCString.substring(3, 6);
    Motor_Polarity = RCString.substring(6, 7);

    //Convert Strings to Integers
    RCSteer_Int = RCSteer.toInt();
    RCMotorSpeed_Int = RCMotorSpeed.toInt();
    Motor_Polarity_Int = Motor_Polarity.toInt();

    //Print data to Serial Monitor
    Serial.print(&#34;RCcode:  &#34;);
    Serial.print(receivedChars);
    Serial.print(&#34;  Steering Value:  &#34;);
    Serial.print(RCSteer_Int);
    Serial.print(&#34;  ANGLE:  &#34;);
    Serial.print(angle);
    Serial.print(&#34;  Speed Value:  &#34;);
    Serial.print(RCMotorSpeed_Int);
    Serial.print(&#34;  Polarity Value:  &#34;);
    Serial.println(Motor_Polarity_Int);

    //Calling Steer and MotorControl Functions
    Steer(RCSteer_Int);
    MotorControl(Motor_Polarity_Int,RCMotorSpeed_Int);

  }

void Steer(int RCSteer_Int){
  //Send Steering Data to Servo
  angle = map(RCSteer_Int, 0, 255, 0, 180);
  myServo.write(angle);
}

void MotorControl(int Motor_Polarity_Int, int RCMotorSpeed_Int){

    //Motor Logic
    switch(Motor_Polarity_Int){

    // FORWARDS
    case 1:
      analogWrite(ENA, RCMotorSpeed_Int);
      digitalWrite(In1, HIGH);
      digitalWrite(In2, LOW);
    break;

    // BACKWARDS
    case 2:
      analogWrite(ENA, RCMotorSpeed_Int);
      digitalWrite(In1, LOW);
      digitalWrite(In2, HIGH);
    break;

    // STOP
    case 0:
    digitalWrite(In1, LOW);
    digitalWrite(In2, LOW);
    break;
    }
}
void recvWithStartEndMarkers() {
    static boolean recvInProgress = false;
    static byte ndx = 0;
    char startMarker = &#39;&lt;&#39;;
    char endMarker = &#39;&gt;&#39;;
    char rc;

    while (Serial.available() &gt; 0 &amp;&amp; newData == false) {
        rc = Serial.read();

        if (recvInProgress == true) {
            if (rc != endMarker) {
                receivedChars[ndx] = rc;
                ndx++;
                if (ndx &gt;= numChars) {
                    ndx = numChars - 1;
                }
            }
            else {
                receivedChars[ndx] = &#39;\0&#39;; // terminate the string
                recvInProgress = false;
                ndx = 0;
                newData = true;
            }
        }

        else if (rc == startMarker) {
            recvInProgress = true;
        }
    }
}

void showNewData() {
    if (newData == true ){
        newData = false;
    }
}
</code></pre>


  </div>


  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://filpill.github.io/tags/design/">design</a></li>
      <li><a href="https://filpill.github.io/tags/engineering/">engineering</a></li>
      <li><a href="https://filpill.github.io/tags/mechanical/">mechanical</a></li>
      <li><a href="https://filpill.github.io/tags/automotive/">automotive</a></li>
      <li><a href="https://filpill.github.io/tags/bluetooth/">bluetooth</a></li>
      <li><a href="https://filpill.github.io/tags/processing3/">processing3</a></li>
      <li><a href="https://filpill.github.io/tags/3d-printing/">3d-printing</a></li>
      <li><a href="https://filpill.github.io/tags/programming/">programming</a></li>
      <li><a href="https://filpill.github.io/tags/mechatronics/">mechatronics</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://filpill.github.io/projects/litho/">
    <span class="title">« Prev</span>
    <br>
    <span>Lithophane Lamp</span>
  </a>
  <a class="next" href="https://filpill.github.io/projects/ht_sim/">
    <span class="title">Next »</span>
    <br>
    <span>2D Heat Transfer Simulation</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://filpill.github.io/">Filip Livancic</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
