<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Setting Up Linux Desktop Environment | Filip Livancic</title>
<meta name="keywords" content="üíª Systems">
<meta name="description" content="Instructional guide for setting up a Window Manager in Linux | dwm &#43; st">
<meta name="author" content="">
<link rel="canonical" href="https://filpill.github.io/projects/2023-11-14-linux-gui-setup/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.655e31e5f2a68813836a80ebda575f730895aae7b904bad3f80dbb089f3a6420.css" integrity="sha256-ZV4x5fKmiBODaoDr2ldfcwiVque5BLrT&#43;A27CJ86ZCA=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://filpill.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://filpill.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://filpill.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://filpill.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://filpill.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://filpill.github.io/projects/2023-11-14-linux-gui-setup/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Setting Up Linux Desktop Environment" />
<meta property="og:description" content="Instructional guide for setting up a Window Manager in Linux | dwm &#43; st" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://filpill.github.io/projects/2023-11-14-linux-gui-setup/" />
<meta property="og:image" content="https://filpill.github.io/img/arch/gui/linux_gui.png" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2023-11-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-11-14T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://filpill.github.io/img/arch/gui/linux_gui.png" />
<meta name="twitter:title" content="Setting Up Linux Desktop Environment"/>
<meta name="twitter:description" content="Instructional guide for setting up a Window Manager in Linux | dwm &#43; st"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "List of Articles",
      "item": "https://filpill.github.io/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Setting Up Linux Desktop Environment",
      "item": "https://filpill.github.io/projects/2023-11-14-linux-gui-setup/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Setting Up Linux Desktop Environment",
  "name": "Setting Up Linux Desktop Environment",
  "description": "Instructional guide for setting up a Window Manager in Linux | dwm + st",
  "keywords": [
    "üíª Systems"
  ],
  "articleBody": "Introduction After installing a fresh copy of Arch Linux, you are probably wanting to get around to setting up some type of graphical environment.\nIt can be difficult to setup a graphical environment for the first time if there is not much guidance. Linux advice can be very scattershot, and can leave people feeling quite lost. You will end up digging through heaps of internet archives just to surface something vaguely relevant to your own setup.\nThis article should guide you on creating a basic graphical setup for your Linux machine relatively quickly and with ease.\nNote: Depending on your own software and hardware, you may need to deviate from these prescribed procedures from time to time. Read the documentation for the programs you use and adjust accordingly.\nI will prescribe the software choices in this article, however, once you feel comfortable, you can choose to go in your own direction.\nI setting up a window manger as the foundation for this guide. My system is running Arch Linux running under Hyper-V.\nCreating a User - Getting Sudo Permissions At this stage, you probably only have a root user on a fresh install, so it would be a good idea to create a user for yourself:\nuseradd -mg wheel filpill You want to add yourself to the wheel group as we will make some changes to enable you to have access to the sudo command i.e. allow admin privileges.\nAdd a password for that your using this command (and follow the prompts):\npasswd filpill Next you will need to edit the sudoers file in order to give the wheel group the relevant access.\nYou can find the file at /etc/sudoers.d and you will need to uncomment the following line:\n%wheel ALL=(ALL) ALL Now you will be able to execute commands as root after being prompted for a password.\nX11 - Display Server Since we are using a window manager as the graphical environment, we are going to need to have some kind of display server.\nTraditionally for Linux, Xorg/X11 is the display server of choice as it has the best compatibility with other software. Alternatively, you have Wayland as a more efficient option, although you may run into compatibility issues depending on what software is running.\nIn order to maximise compatibility and stability, I will continue to configure using Xorg for the time being until Wayland catches up.\nThe following programs will need to be installed:\npicom xorg xorg-server xorg-xinit xf86-video-fbdev (video driver for Virtual Machine) If you are installing on bare metal, then you will probably require a different video driver, so just research the one you need depending on the hardware you have.\nUsing pacman, you can install with is command:\nsudo pacman -S picom xorg xorg-server xorg-init xf86-video-fbdev dwm - Window Manager Dwm is a Suckless software and will be forming the backbone for the environment we are building.\nHowever, the install procedure and configuration is a little different compared to other programs.\nWe cannot run a simple pacman command to install it. The program is written in C and needs to be compiled directly from those C files.\nYou will need to visit the Suckless Website to get the source files and relevant patches.\nThey have the base version of dwm on git, so you will need to run a git clone command to pull it down onto your machine. Run the git command:\ngit clone git://git.suckless.org/dwm If you need to change the configuration, you can do all the changes inside the file **config.h\".\nTo compile the dwm configuration:\nsudo make clean install It‚Äôs fairly straightforward, if no errors occur, you have successfully installed dwm.\nHowever, if you ever need to change the config, you will need to re-compile those C-files.\nIt would also be advisable to host a copy of your own dwm configuration on your own git repository so that you are able to deploy onto any machine very easily.\nst - Terminal Emulator There are many terminal emulators you can use as an option to supplement dwm.\nHowever, for continuity I would go for st which is also a Suckless utility and follows a similar procedure.\nClone from the suckless website:\ngit clone git://git.suckless.org/st Configuration changes occur in the file called config.h.\nCompiling st into your desktop is done via this command:\nsudo make clean install Exact same procedure as dwm. Again, you can save the st configuration onto your own git repository.\nConfig Files - .xinitrc and .bash_profile .xinitrc Your .xinitrc is where you will:\nStart the terminal compositor as a background process Start dwm After vimming into ~/.xinitrc; add these two lines in:\npicom -b exec dwm Note: Exec dwm MUST be the last executed command of the xinitrc file\n.bash_profile If you are using bash, this file will be called .bash_profile.\nDepending on which shell you are using, the filename may be different. E.g. for zsh, the corresponding file would be called .zprofile\nWhat you need to do in this file is essentially add a command to start the display server. The command for starting the display server is exec startx.\nAfter adding that command, your .bash_profile would look something like this:\n# # ~/.bash_profile # [[ -f ~/.bashrc ]] \u0026\u0026 . ~/.bashrc [[ $(fgconsole 2\u003e/dev/null) == 1 ]] \u0026\u0026 exec startx --vt1 After saving your .bash_profile, you should be able to reboot your system.\nThe next time you login into your user profile, it should execute the commands in both ~/.bash_profile and ~/.xinitrc in order to start the display server and start dwm.\nNow you should have dwm automatically loaded in and you should be able to spawn st terminal‚Äôs inside dwm.\nlf - Terminal File Explorer The file explorer I recommend using is called lf. It‚Äôs handy for exploring the terminal more efficiently. Also very useful for bulk operations.\nYou can install using pacman:\nsudo pacman -S lf To open lf, simply type: lf into your terminal window.\nExtending lf I also recommend extending this program to get some more functionality from it by:\nAdding icons to the file explorer Adding previews for text, images and pdf‚Äôs Icons - lf In order to get the icons to work for the lf configuration, you will need two things:\nCreate an icons file in the lf config Install a ‚Äúnerdfont‚Äù You can make the icons file inside ~/.config/lf with:\ntouch ~/.config/lf/icons Go to the Gokcehan - lf git repo - icons.example, copy the entire contents and paste directly into your newly created icons file.\nYou will notice that you terminal is unable to read the iconography. This is solved by installing a ‚Äúnerdfont‚Äù.\nGo to Nerd Fonts Website and download any font of your choosing.\nUnzip the downloaded font and paste the contents into ~/.local/share/fonts.\nIn order for st to change the font being used, you must edit the config.h of st.\nThere should be a line in config.h which defines the font name, simply edit the line with the new name. For example my st font is configured like this:\nstatic char *font = \"GeistMonoNerdFont-Medium:pixelsize=14:antialias=true:autohint=true\"; Run sudo make clean install to re-compile st and you should now be able to read those characters in the icons file.\nThe next time you run lf on a fresh instance of st, you should be able to see icons of the various files in your system.\nIt should feel much easier to navigate more easily!\nAs a quick tip, you can press zh when inside lf to toggle visibility of hidden files. You will likely want to do this if you are searching for dotfiles.\nImage Preview - ctpv ctpv is program made by NikitaIvanovV and is designed to be integrated directly into lf to avoid the use of wrapper scripts.\nWe will only need to make some minor additions to our lfrc.\nTo install ctpv, run these commands:\ngit clone https://github.com/NikitaIvanovV/ctpv cd ctpv make sudo make install Go to your lfrc located in ~.config/lf/lfrc and add these lines:\nset previewer ctpv set cleaner ctpvclear \u0026ctpv -s $id \u0026ctpvquit $id These configuration lines effectively work to bring up the image previews and (clearing in prep for next image).\nThat‚Äôs all you need; the preview should accommodate most file types:\nzsh - Changing default Shell I prefer to use zsh as the default shell as opposed to bash. There are some extra features which can enhance the experience e.g.:\nBetter Autocomplete Ability to Tab through Change directories without typing ‚Äòcd‚Äô This is by no means an exhaustive list. You can configure your shell to have as many or as little features as you want.\nYou can install zsh using the pacman command:\nsudo pacman -S zsh The first time you run zsh (by typing zsh into the terminal), you will be greeted with CLI configuration menu to perform a first time set up. Once that‚Äôs complete, the setup menu will not appear again, it will just launch zsh.\nHowever, if you want to change your default shell from bash to zsh when you login, you will need to run some extra commands.\nFirst you will need to list all the available shells installed on the machine:\nchsh -l After finding the one you wish to use by default, you can type the command:\nchsh -s /bin/zsh You will be prompted for your password and after this stage the default shell is now zsh. The next time you login, it will spawn a zsh shell within st.\nDon‚Äôt forget to migrate all the configuration you have down in ~/.bash_profile to ~/.zprofile as bash and zsh don‚Äôt share the same config files.\nAdding Terminal Based Copy-Paste Bindings This is for enabling the clipboard across any program or instance.\nYou can add a couple of lines to your neovim config in ~/.config/nvim/init.vim:\n\"Copy paste to X11 Clipboard vmap :!xclip -f -sel clip map mz:-1r !xclip -o -sel clip These key bindings xclip commands allow terminal based copy-pasting:\nLeader-F6 for Copying Leader-F7 for Pasting You will need to go into ‚Äúvisual mode‚Äù in order to enact the copy command and you can paste into another terminal using normal mode.\nNote for Copying from Browser to Terminal: Highlight what you are copying and paste by clicking the middle mouse button on the target.\nAdding a wallpaper You need the xwallpaper program to run a command to change the wallpaper:\nsudo pacman -S xwallpaper Add a line inside your ~/.xinitrc file to apply a chosen wallpaper every time your computer logs on:\nxwallpaper --output Virtual-1 --stretch ~/desktop_setup/wallpaper/cartoon_cove.jpg You would need to adjust the arguments to output to the correct display and path to your chosen image.\nConclusion At this stage you should have a fairly rudimentary setup, however, it should get you acquainted with the various features Linux provides and how to approach the configuration in the future.\nYou should consider saving all your configurations onto a git repo so you can more easily manage your setups and deploy a desktop environment more easily in the future.\nIdeally, you would want to run some of these procedures using shell scripts. Applying some automation will help in getting an environment setup more readily and consistently.\nFrom this foundation, I recommend spending time experimenting with different programs to develop workflows that fit your specific needs.\n",
  "wordCount" : "1876",
  "inLanguage": "en",
  "image":"https://filpill.github.io/img/arch/gui/linux_gui.png","datePublished": "2023-11-14T00:00:00Z",
  "dateModified": "2023-11-14T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://filpill.github.io/projects/2023-11-14-linux-gui-setup/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Filip Livancic",
    "logo": {
      "@type": "ImageObject",
      "url": "https://filpill.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose'}});</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://filpill.github.io/" accesskey="h" title="Filip Livancic (Alt + H)">Filip Livancic</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://filpill.github.io/profile/" title="üë§ Profile">
                    <span>üë§ Profile</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/archives/" title="üìÅ Archive">
                    <span>üìÅ Archive</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/tags/" title="üè∑Ô∏è Tags">
                    <span>üè∑Ô∏è Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://filpill.github.io/">Home</a>&nbsp;¬ª&nbsp;<a href="https://filpill.github.io/projects/">List of Articles</a></div>
    <h1 class="post-title">
      Setting Up Linux Desktop Environment
    </h1>
    <div class="post-description">
      Instructional guide for setting up a Window Manager in Linux | dwm &#43; st
    </div>
    <div class="post-meta"><span title='2023-11-14 00:00:00 +0000 UTC'>November 14, 2023</span>&nbsp;¬∑&nbsp;9 min&nbsp;¬∑&nbsp;1876 words

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://filpill.github.io/img/arch/gui/linux_gui.png" alt="File Share Image Cover">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#creating-a-user---getting-sudo-permissions" aria-label="Creating a User - Getting Sudo Permissions">Creating a User - Getting Sudo Permissions</a></li>
                <li>
                    <a href="#x11---display-server" aria-label="X11 - Display Server">X11 - Display Server</a></li>
                <li>
                    <a href="#dwm---window-manager" aria-label="dwm - Window Manager">dwm - Window Manager</a></li>
                <li>
                    <a href="#st---terminal-emulator" aria-label="st - Terminal Emulator">st - Terminal Emulator</a></li>
                <li>
                    <a href="#config-files---xinitrc-and-bash_profile" aria-label="Config Files - .xinitrc and .bash_profile">Config Files - .xinitrc and .bash_profile</a><ul>
                        <ul>
                        
                <li>
                    <a href="#xinitrc" aria-label=".xinitrc">.xinitrc</a></li>
                <li>
                    <a href="#bash_profile" aria-label=".bash_profile">.bash_profile</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#lf---terminal-file-explorer" aria-label="lf - Terminal File Explorer">lf - Terminal File Explorer</a><ul>
                        
                <li>
                    <a href="#extending-lf" aria-label="Extending lf">Extending lf</a><ul>
                        
                <li>
                    <a href="#icons---lf" aria-label="Icons - lf">Icons - lf</a></li>
                <li>
                    <a href="#image-preview---ctpv" aria-label="Image Preview - ctpv">Image Preview - ctpv</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#zsh---changing-default-shell" aria-label="zsh - Changing default Shell">zsh - Changing default Shell</a></li>
                <li>
                    <a href="#adding-terminal-based-copy-paste-bindings" aria-label="Adding Terminal Based Copy-Paste Bindings">Adding Terminal Based Copy-Paste Bindings</a></li>
                <li>
                    <a href="#adding-a-wallpaper" aria-label="Adding a wallpaper">Adding a wallpaper</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h1>
<p>After installing a fresh copy of Arch Linux, you are probably wanting to get around to setting up some type of graphical environment.</p>
<p>It can be difficult to setup a graphical environment for the first time if there is not much guidance. Linux advice can be very scattershot, and can leave people feeling quite lost. You will end up digging through heaps of internet archives just to surface something vaguely relevant to your own setup.</p>
<p>This article should guide you on creating a basic graphical setup for your Linux machine relatively quickly and with ease.</p>
<p><em><strong>Note: Depending on your own software and hardware, you may need to deviate from these prescribed procedures from time to time. Read the documentation for the programs you use and adjust accordingly.</strong></em></p>
<p>I will prescribe the software choices in this article, however, once you feel comfortable, you can choose to go in your own direction.</p>
<p>I setting up a window manger as the foundation for this guide. My system is running Arch Linux running under Hyper-V.</p>
<h1 id="creating-a-user---getting-sudo-permissions">Creating a User - Getting Sudo Permissions<a hidden class="anchor" aria-hidden="true" href="#creating-a-user---getting-sudo-permissions">#</a></h1>
<p>At this stage, you probably only have a root user on a fresh install, so it would be a good idea to create a user for yourself:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd -mg wheel filpill
</span></span></code></pre></div><p>You want to add yourself to the wheel group as we will make some changes to enable you to have access to the sudo command i.e. allow admin privileges.</p>
<p>Add a password for that your using this command (and follow the prompts):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>passwd filpill
</span></span></code></pre></div><p>Next you will need to edit the sudoers file in order to give the wheel group the relevant access.</p>
<p>You can find the file at /etc/sudoers.d and you will need to uncomment the following line:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>%wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> ALL
</span></span></code></pre></div><p>Now you will be able to execute commands as root after being prompted for a password.</p>
<h1 id="x11---display-server">X11 - Display Server<a hidden class="anchor" aria-hidden="true" href="#x11---display-server">#</a></h1>
<p>Since we are using a window manager as the graphical environment, we are going to need to have some kind of display server.</p>
<p>Traditionally for Linux, <strong>Xorg/X11</strong> is the display server of choice as it has the best compatibility with other software. Alternatively, you have <strong>Wayland</strong> as a more efficient option, although you may run into compatibility issues depending on what software is running.</p>
<p>In order to maximise compatibility and stability, I will continue to configure using Xorg for the time being until Wayland catches up.</p>
<p>The following programs will need to be installed:</p>
<ul>
<li>picom</li>
<li>xorg</li>
<li>xorg-server</li>
<li>xorg-xinit</li>
<li>xf86-video-fbdev (video driver for Virtual Machine)</li>
</ul>
<p>If you are installing on bare metal, then you will probably require a different video driver, so just research the one you need depending on the hardware you have.</p>
<p>Using pacman, you can install with is command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S picom xorg xorg-server xorg-init xf86-video-fbdev
</span></span></code></pre></div><h1 id="dwm---window-manager">dwm - Window Manager<a hidden class="anchor" aria-hidden="true" href="#dwm---window-manager">#</a></h1>
<p>Dwm is a <em>Suckless software</em> and will be forming the backbone for the environment we are building.</p>
<p>However, the install procedure and configuration is a little different compared to other programs.</p>
<p>We cannot run a simple pacman command to install it. The program is written in C and needs to be compiled directly from those C files.</p>
<p>You will need to visit the <a href="https://suckless.org/">Suckless Website</a> to get the source files and relevant patches.</p>
<p>They have the base version of dwm on git, so you will need to run a git clone command to pull it down onto your machine. Run the git command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git://git.suckless.org/dwm
</span></span></code></pre></div><p>If you need to change the configuration, you can do all the changes inside the file **config.h&quot;.</p>
<p>To compile the dwm configuration:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo make clean install
</span></span></code></pre></div><p>It&rsquo;s fairly straightforward, if no errors occur, you have successfully installed dwm.</p>
<p>However, if you ever need to change the config, you will need to re-compile those C-files.</p>
<p>It would also be advisable to host a copy of your own dwm configuration on your own git repository so that you are able to deploy onto any machine very easily.</p>
<h1 id="st---terminal-emulator">st - Terminal Emulator<a hidden class="anchor" aria-hidden="true" href="#st---terminal-emulator">#</a></h1>
<p>There are many terminal emulators you can use as an option to supplement dwm.</p>
<p>However, for continuity I would go for st which is also a <em>Suckless utility</em> and follows a similar procedure.</p>
<p>Clone from the suckless website:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git://git.suckless.org/st
</span></span></code></pre></div><p>Configuration changes occur in the file called <strong>config.h</strong>.</p>
<p>Compiling st into your desktop is done via this command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo make clean install
</span></span></code></pre></div><p>Exact same procedure as dwm. Again, you can save the st configuration onto your own git repository.</p>
<h1 id="config-files---xinitrc-and-bash_profile">Config Files - .xinitrc and .bash_profile<a hidden class="anchor" aria-hidden="true" href="#config-files---xinitrc-and-bash_profile">#</a></h1>
<h3 id="xinitrc">.xinitrc<a hidden class="anchor" aria-hidden="true" href="#xinitrc">#</a></h3>
<p>Your .xinitrc is where you will:</p>
<ul>
<li>Start the terminal compositor as a background process</li>
<li>Start dwm</li>
</ul>
<p>After vimming into ~/.xinitrc; add these two lines in:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>picom -b
</span></span><span style="display:flex;"><span>exec dwm
</span></span></code></pre></div><p><em><strong>Note: Exec dwm MUST be the last executed command of the xinitrc file</strong></em></p>
<h3 id="bash_profile">.bash_profile<a hidden class="anchor" aria-hidden="true" href="#bash_profile">#</a></h3>
<p>If you are using bash, this file will be called <strong>.bash_profile</strong>.</p>
<p>Depending on which shell you are using, the filename may be different. E.g. for <strong>zsh</strong>, the corresponding file would be called <strong>.zprofile</strong></p>
<p>What you need to do in this file is essentially add a command to start the display server. The command for starting the display server is <strong>exec startx</strong>.</p>
<p>After adding that command, your .bash_profile would look something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ~/.bash_profile</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[[</span> -f ~/.bashrc <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> . ~/.bashrc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[[</span> <span style="color:#66d9ef">$(</span>fgconsole 2&gt;/dev/null<span style="color:#66d9ef">)</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> exec startx --vt1
</span></span></code></pre></div><p>After saving your .bash_profile, you should be able to reboot your system.</p>
<p>The next time you login into your user profile, it should execute the commands in both ~/.bash_profile and ~/.xinitrc in order to start the display server and start dwm.</p>
<p>Now you should have dwm automatically loaded in and you should be able to spawn st terminal&rsquo;s inside dwm.</p>
<h1 id="lf---terminal-file-explorer">lf - Terminal File Explorer<a hidden class="anchor" aria-hidden="true" href="#lf---terminal-file-explorer">#</a></h1>
<p>The file explorer I recommend using is called <strong>lf</strong>. It&rsquo;s handy for exploring the terminal more efficiently. Also very useful for bulk operations.</p>
<p>You can install using pacman:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S lf
</span></span></code></pre></div><p>To open lf, simply type: <strong>lf</strong> into your terminal window.</p>
<h2 id="extending-lf">Extending lf<a hidden class="anchor" aria-hidden="true" href="#extending-lf">#</a></h2>
<p>I also recommend extending this program to get some more functionality from it by:</p>
<ul>
<li>Adding icons to the file explorer</li>
<li>Adding previews for text, images and pdf&rsquo;s</li>
</ul>
<h3 id="icons---lf">Icons - lf<a hidden class="anchor" aria-hidden="true" href="#icons---lf">#</a></h3>
<p>In order to get the icons to work for the lf configuration, you will need two things:</p>
<ul>
<li>Create an <strong>icons</strong> file in the lf config</li>
<li>Install a <strong>&ldquo;nerdfont&rdquo;</strong></li>
</ul>
<p>You can make the <strong>icons</strong> file inside <em><strong>~/.config/lf</strong></em> with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>touch ~/.config/lf/icons
</span></span></code></pre></div><p>Go to the <a href="https://github.com/gokcehan/lf/blob/master/etc/icons.example">Gokcehan - lf git repo - icons.example</a>, copy the entire contents and paste directly into your newly created <strong>icons</strong> file.</p>
<p>You will notice that you terminal is unable to read the iconography. This is solved by installing a <strong>&ldquo;nerdfont&rdquo;.</strong></p>
<p>Go to <a href="https://www.nerdfonts.com">Nerd Fonts Website</a> and download any font of your choosing.</p>
<p>Unzip the downloaded font and paste the contents into <em><strong>~/.local/share/fonts</strong></em>.</p>
<p>In order for st to change the font being used, you must edit the <strong>config.h</strong> of st.</p>
<p>There should be a line in config.h which defines the font name, simply edit the line with the new name. For example my st font is configured like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>font <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;GeistMonoNerdFont-Medium:pixelsize=14:antialias=true:autohint=true&#34;</span>;
</span></span></code></pre></div><p>Run <strong>sudo make clean install</strong> to re-compile st and you should now be able to read those characters in the <strong>icons</strong> file.</p>
<p>The next time you run lf on a fresh instance of st, you should be able to see icons of the various files in your system.</p>
<p><img loading="lazy" src="/img/arch/gui/lf_icons.jpg" alt="f Icons"  />
</p>
<p>It should feel much easier to navigate more easily!</p>
<p>As a quick tip, you can press <strong>zh</strong> when inside lf to toggle visibility of hidden files. You will likely want to do this if you are searching for dotfiles.</p>
<h3 id="image-preview---ctpv">Image Preview - ctpv<a hidden class="anchor" aria-hidden="true" href="#image-preview---ctpv">#</a></h3>
<p>ctpv is program made by NikitaIvanovV and is designed to be integrated directly into lf to avoid the use of wrapper scripts.</p>
<p>We will only need to make some minor additions to our <strong>lfrc</strong>.</p>
<p>To install ctpv, run these commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/NikitaIvanovV/ctpv
</span></span><span style="display:flex;"><span>cd ctpv
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>sudo make install
</span></span></code></pre></div><p>Go to your lfrc located in <em><strong>~.config/lf/lfrc</strong></em> and add these lines:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>set previewer ctpv
</span></span><span style="display:flex;"><span>set cleaner ctpvclear
</span></span><span style="display:flex;"><span>&amp;ctpv -s $id
</span></span><span style="display:flex;"><span>&amp;ctpvquit $id
</span></span></code></pre></div><p>These configuration lines effectively work to bring up the image previews and (clearing in prep for next image).</p>
<p>That&rsquo;s all you need; the preview should accommodate most file types:</p>
<p><img loading="lazy" src="/img/arch/gui/lf_img_preview.jpg" alt="Image Preview"  />

<img loading="lazy" src="/img/arch/gui/lf_pdf_preview.jpg" alt="PDF Preview"  />
</p>
<h1 id="zsh---changing-default-shell">zsh - Changing default Shell<a hidden class="anchor" aria-hidden="true" href="#zsh---changing-default-shell">#</a></h1>
<p>I prefer to use zsh as the default shell as opposed to bash. There are some extra features which can enhance the experience e.g.:</p>
<ul>
<li>Better Autocomplete</li>
<li>Ability to Tab through</li>
<li>Change directories without typing &lsquo;cd&rsquo;</li>
</ul>
<p>This is by no means an exhaustive list. You can configure your shell to have as many or as little features as you want.</p>
<p>You can install zsh using the pacman command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S zsh
</span></span></code></pre></div><p>The first time you run zsh (by typing <strong>zsh</strong> into the terminal), you will be greeted with CLI configuration menu to perform a first time set up. Once that&rsquo;s complete, the setup menu will not appear again, it will just launch zsh.</p>
<p>However, if you want to change your default shell from bash to zsh when you login, you will need to run some extra commands.</p>
<p>First you will need to list all the available shells installed on the machine:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chsh -l
</span></span></code></pre></div><p>After finding the one you wish to use by default, you can type the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chsh -s /bin/zsh
</span></span></code></pre></div><p>You will be prompted for your password and after this stage the default shell is now zsh. The next time you login, it will spawn a zsh shell within st.</p>
<p>Don&rsquo;t forget to migrate all the configuration you have down in ~/.bash_profile to ~/.zprofile as bash and zsh don&rsquo;t share the same config files.</p>
<h1 id="adding-terminal-based-copy-paste-bindings">Adding Terminal Based Copy-Paste Bindings<a hidden class="anchor" aria-hidden="true" href="#adding-terminal-based-copy-paste-bindings">#</a></h1>
<p>This is for enabling the clipboard across any program or instance.</p>
<p>You can add a couple of lines to your neovim config in ~/.config/nvim/init.vim:</p>
<pre tabindex="0"><code class="language-config" data-lang="config">&#34;Copy paste to X11 Clipboard
vmap &lt;leader&gt;&lt;F6&gt; :!xclip -f -sel clip&lt;CR&gt;
map  &lt;leader&gt;&lt;F7&gt; mz:-1r !xclip -o -sel clip&lt;CR&gt;
</code></pre><p>These key bindings xclip commands allow terminal based copy-pasting:</p>
<ul>
<li>Leader-F6 for Copying</li>
<li>Leader-F7 for Pasting</li>
</ul>
<p>You will need to go into &ldquo;visual mode&rdquo; in order to enact the copy command and you can paste into another terminal using normal mode.</p>
<blockquote>
<p><strong>Note for Copying from Browser to Terminal:</strong>  Highlight what you are copying and paste by clicking the middle mouse button on the target.</p>
</blockquote>
<h1 id="adding-a-wallpaper">Adding a wallpaper<a hidden class="anchor" aria-hidden="true" href="#adding-a-wallpaper">#</a></h1>
<p>You need the <strong>xwallpaper</strong> program to run a command to change the wallpaper:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S xwallpaper
</span></span></code></pre></div><p>Add a line inside your <strong>~/.xinitrc</strong> file to apply a chosen wallpaper every time your computer logs on:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>xwallpaper --output Virtual-1 --stretch ~/desktop_setup/wallpaper/cartoon_cove.jpg
</span></span></code></pre></div><p>You would need to adjust the arguments to output to the correct display and path to your chosen image.</p>
<p><img loading="lazy" src="/img/arch/gui/wallpaper.jpg" alt="Wallpaper"  />

<img loading="lazy" src="/img/arch/gui/wallpaper_with_terminal.jpg" alt="Wallpaper"  />
</p>
<h1 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h1>
<p>At this stage you should have a fairly rudimentary setup, however, it should get you acquainted with the various features Linux provides and how to approach the configuration in the future.</p>
<p>You should consider saving all your configurations onto a git repo so you can more easily manage your setups and deploy a desktop environment more easily in the future.</p>
<p>Ideally, you would want to run some of these procedures using shell scripts. Applying some automation will help in getting an environment setup more readily and consistently.</p>
<p>From this foundation, I recommend spending time experimenting with different programs to develop workflows that fit your specific needs.</p>



  </div>


  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://filpill.github.io/tags/-systems/">üíª Systems</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://filpill.github.io/projects/2024-01-16-docker-ingestion/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>Dockerised Postgres Database and Ingestion</span>
  </a>
  <a class="next" href="https://filpill.github.io/projects/2023-11-13-windows-linux-fileshare/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>Windows to Linux VM Fileshare</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://filpill.github.io/">Filip Livancic</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
