<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Forward Facing Step - Particle Image Velocimetry | Filip Livancic</title>
<meta name="keywords" content="">
<meta name="description" content="Dissertation Project: Investigating flow field characteristics of a stepped geometry">
<meta name="author" content="">
<link rel="canonical" href="https://filpill.github.io/projects/2017-06-01-piv-dissertation/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fa8fdcb3fde926e796b3b5a7d53394788128df89bcc404d129460bf95da53b33.css" integrity="sha256-&#43;o/cs/3pJueWs7Wn1TOUeIEo34m8xATRKUYL&#43;V2lOzM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://filpill.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://filpill.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://filpill.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://filpill.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://filpill.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Forward Facing Step - Particle Image Velocimetry" />
<meta property="og:description" content="Dissertation Project: Investigating flow field characteristics of a stepped geometry" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://filpill.github.io/projects/2017-06-01-piv-dissertation/" />
<meta property="og:image" content="https://filpill.github.io/img/piv/ffs-bl-diagram.png" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2017-06-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-06-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://filpill.github.io/img/piv/ffs-bl-diagram.png" />
<meta name="twitter:title" content="Forward Facing Step - Particle Image Velocimetry"/>
<meta name="twitter:description" content="Dissertation Project: Investigating flow field characteristics of a stepped geometry"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "List of Articles",
      "item": "https://filpill.github.io/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Forward Facing Step - Particle Image Velocimetry",
      "item": "https://filpill.github.io/projects/2017-06-01-piv-dissertation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Forward Facing Step - Particle Image Velocimetry",
  "name": "Forward Facing Step - Particle Image Velocimetry",
  "description": "Dissertation Project: Investigating flow field characteristics of a stepped geometry",
  "keywords": [
    
  ],
  "articleBody": "Summary My 3rd year project in University was to design a Forward Facing Step and perform wind tunnel experiments to analyse flow characteristics on that geometry using PIV.\nParticle Image Velocimetry is a practical tool for Aerodynamics analyse flow fields without intrusions in the wind tunnel environment such as sensors or pitot probes.\nIn this experiment the height of the boundary layer is similarly proportioned to the height of the step. In results shown below you will notice two distinct separation regions on the aerofoil. One at the bottom of the step due to the sudden adverse pressure gradient. And another at the top of the step as the flow is unable to sharply turn the corner.\nPrevious Next / [pdf] View the PDF file here. Link to PIV Python Code For Results Post Processing\nExperimental Procedure Wind Tunnel Experiment The experimental procedure involves diffusing small oil droplets into the freestream flow and having a sheet of laser light illuminating a cross-section of the airflow. Hundreds of images are captured in the process a high speed camera. Due to the limited field of vision, the results from the top and bottom of the step were recorded separately. Image Post-Processing Images need some further preparation to enable reliable PIV results. Usually this involves enhancing contrast of the images to make the particles visible. Additionally any background noise picked up by the camera needs to be subtracted from the image as we want to isolate the airflow as much as possible. OpenPIV and Python Post-Process Scripts Particle displacements on the images can be determined by performing a cross-correlation on the series of image pairs. In my case, I used OpenPIV software written in Python to extract all the velocity fields at all the times steps recorded. Additionally, Iâ€™ve written some post-processing scripts for the velocity data text files in Python to animate experimental results. (I used MATLAB equivalents for my dissertation at the time of the project). Experimental Arrangement Illustration of camera and laser positioning to capture wind tunnel data. Raw wind tunnel image with imageJ enhancements - Capturing illuminated particles moving over step within laser plane. Particle Image Velocimetry Results Instantaneous Velocity Streamplot Front Step Top Step Time Averaged Velocity Contours Front Step Top Step Turbulence Intensity Contours Front Step Top Step ",
  "wordCount" : "383",
  "inLanguage": "en",
  "image":"https://filpill.github.io/img/piv/ffs-bl-diagram.png","datePublished": "2017-06-01T00:00:00Z",
  "dateModified": "2017-06-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://filpill.github.io/projects/2017-06-01-piv-dissertation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Filip Livancic",
    "logo": {
      "@type": "ImageObject",
      "url": "https://filpill.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose'}});</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://filpill.github.io/" accesskey="h" title="Filip Livancic (Alt + H)">Filip Livancic</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://filpill.github.io/profile/" title="Profile">
                    <span>Profile</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://filpill.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://filpill.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://filpill.github.io/projects/">List of Articles</a></div>
    <h1 class="post-title">
      Forward Facing Step - Particle Image Velocimetry
    </h1>
    <div class="post-description">
      Dissertation Project: Investigating flow field characteristics of a stepped geometry
    </div>
    <div class="post-meta"><span title='2017-06-01 00:00:00 +0000 UTC'>June 1, 2017</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;383 words

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://filpill.github.io/img/piv/ffs-bl-diagram.png" alt="PIV BL Diagram">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#summary" aria-label="Summary">Summary</a></li>
                <li>
                    <a href="#experimental-procedure" aria-label="Experimental Procedure">Experimental Procedure</a><ul>
                        <ul>
                        
                <li>
                    <a href="#wind-tunnel-experiment" aria-label="Wind Tunnel Experiment">Wind Tunnel Experiment</a></li>
                <li>
                    <a href="#image-post-processing" aria-label="Image Post-Processing">Image Post-Processing</a></li>
                <li>
                    <a href="#openpiv-and-python-post-process-scripts" aria-label="OpenPIV and Python Post-Process Scripts">OpenPIV and Python Post-Process Scripts</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#experimental-arrangement" aria-label="Experimental Arrangement">Experimental Arrangement</a></li>
                <li>
                    <a href="#particle-image-velocimetry-results" aria-label="Particle Image Velocimetry Results">Particle Image Velocimetry Results</a><ul>
                        
                <li>
                    <a href="#instantaneous-velocity-streamplot" aria-label="Instantaneous Velocity Streamplot">Instantaneous Velocity Streamplot</a><ul>
                        
                <li>
                    <a href="#front-step" aria-label="Front Step">Front Step</a></li>
                <li>
                    <a href="#top-step" aria-label="Top Step">Top Step</a></li></ul>
                </li>
                <li>
                    <a href="#time-averaged-velocity-contours" aria-label="Time Averaged Velocity Contours">Time Averaged Velocity Contours</a><ul>
                        
                <li>
                    <a href="#front-step-1" aria-label="Front Step">Front Step</a></li>
                <li>
                    <a href="#top-step-1" aria-label="Top Step">Top Step</a></li></ul>
                </li>
                <li>
                    <a href="#turbulence-intensity-contours" aria-label="Turbulence Intensity Contours">Turbulence Intensity Contours</a><ul>
                        
                <li>
                    <a href="#front-step-2" aria-label="Front Step">Front Step</a></li>
                <li>
                    <a href="#top-step-2" aria-label="Top Step">Top Step</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h1>
<ul>
<li>
<p>My 3rd year project in University was to design a Forward Facing Step and perform wind tunnel experiments to analyse flow characteristics on that geometry using PIV.</p>
</li>
<li>
<p>Particle Image Velocimetry is a practical tool for Aerodynamics analyse flow fields without intrusions in the wind tunnel environment such as sensors or pitot probes.</p>
</li>
<li>
<p>In this experiment the height of the boundary layer is similarly proportioned to the height of the step. In results shown below you will notice two distinct separation regions on the aerofoil. One at the bottom of the step due to the sudden adverse pressure gradient. And another at the top of the step as the flow is unable to sharply turn the corner.</p>
</li>
</ul>
<script type="text/javascript" src= '/js/pdf-js/build/pdf.js'></script>

<style>
  #embed-pdf-container {
    position: relative;
    width: 100%;
    height: auto;
    min-height: 20vh;
     
  }
  
  .pdf-canvas {
    border: 1px solid black;
    direction: ltr;
    width: 100%;
    height: auto;
    display: none;
  }
  
  #the-canvas {
    border: 1px solid black;
    direction: ltr;
    width: 100%;
    height: auto;
    display: none;
  }
  
  
  .pdf-loadingWrapper {
    display: none;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 350px;
  }
  
  .pdf-loading {
    display: inline-block;
    width: 50px;
    height: 50px;
    border: 3px solid #d2d0d0;;
    border-radius: 50%;
    border-top-color: #383838;
    animation: spin 1s ease-in-out infinite;
    -webkit-animation: spin 1s ease-in-out infinite;
  }
  
  
  
  
  
  #overlayText {
    word-wrap: break-word;
    display: grid;
    justify-content: end;
  }
  
  #overlayText a {
    position: relative;
    top: 10px;
    right: 4px;
    color: #000;
    margin: auto;
    background-color: #eeeeee;
    padding: 0.3em 1em;
    border: solid 2px;
    border-radius: 12px;
    border-color: #00000030;
    text-decoration: none;
  }
  
  #overlayText svg {
    height: clamp(1em, 2vw, 1.4em);
    width:  clamp(1em, 2vw, 1.4em);
  }
  
  
  
  @keyframes spin {
    to { -webkit-transform: rotate(360deg); }
  }
  @-webkit-keyframes spin {
    to { -webkit-transform: rotate(360deg); }
  }
  </style><div class="embed-pdf-container" id="embed-pdf-container-6a61455e">
    <div class="pdf-loadingWrapper" id="pdf-loadingWrapper-6a61455e">
        <div class="pdf-loading" id="pdf-loading-6a61455e"></div>
    </div>
    <div id="overlayText">
      <a href="/files/filip_piv.pdf" aria-label="Download" download>
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
            <path d="M9 13c.3 0 .5-.1.7-.3L15.4 7 14 5.6l-4 4V1H8v8.6l-4-4L2.6 7l5.7 5.7c.2.2.4.3.7.3zm-7 2h14v2H2z" />
        </svg>
      </a>
    </div>
    <canvas class="pdf-canvas" id="pdf-canvas-6a61455e"></canvas>
</div>

<div class="pdf-paginator" id="pdf-paginator-6a61455e">
    <button id="pdf-prev-6a61455e">Previous</button>
    <button id="pdf-next-6a61455e">Next</button> &nbsp; &nbsp;
    <span>
      <span class="pdf-pagenum" id="pdf-pagenum-6a61455e"></span> / <span class="pdf-pagecount" id="pdf-pagecount-6a61455e"></span>
    </span>
    <a class="pdf-source" id="pdf-source-6a61455e" href="/files/filip_piv.pdf">[pdf]</a>
</div>

<noscript>
View the PDF file <a class="pdf-source" id="pdf-source-noscript-6a61455e" href="/files/filip_piv.pdf">here</a>.
</noscript>

<script type="text/javascript">
    (function(){
    var url = '\/files\/filip_piv.pdf';

    var hidePaginator = "" === "true";
    var hideLoader = "false" === "true";
    var selectedPageNum = parseInt("1") || 1;

    
    var pdfjsLib = window['pdfjs-dist/build/pdf'];

    
    if (pdfjsLib.GlobalWorkerOptions.workerSrc == '')
      pdfjsLib.GlobalWorkerOptions.workerSrc = "https:\/\/filpill.github.io\/" + 'js/pdf-js/build/pdf.worker.js';

    
    var pdfDoc = null,
        pageNum = selectedPageNum,
        pageRendering = false,
        pageNumPending = null,
        scale = 3,
        canvas = document.getElementById('pdf-canvas-6a61455e'),
        ctx = canvas.getContext('2d'),
        paginator = document.getElementById("pdf-paginator-6a61455e"),
        loadingWrapper = document.getElementById('pdf-loadingWrapper-6a61455e');


    
    showPaginator();
    showLoader();

    

    function renderPage(num) {
      pageRendering = true;
      
      pdfDoc.getPage(num).then(function(page) {
        var viewport = page.getViewport({scale: scale});
        canvas.height = viewport.height;
        canvas.width = viewport.width;

        
        var renderContext = {
          canvasContext: ctx,
          viewport: viewport
        };
        var renderTask = page.render(renderContext);

        
        renderTask.promise.then(function() {
          pageRendering = false;
          showContent();

          if (pageNumPending !== null) {
            
            renderPage(pageNumPending);
            pageNumPending = null;
          }
        });
      });

      
      document.getElementById('pdf-pagenum-6a61455e').textContent = num;
    }

    

    function showContent() {
      loadingWrapper.style.display = 'none';
      canvas.style.display = 'block';
    }

    

    function showLoader() {
      if(hideLoader) return
      loadingWrapper.style.display = 'flex';
      canvas.style.display = 'none';
    }

    

    function showPaginator() {
      if(hidePaginator) return
      paginator.style.display = 'block';
    }

    

    function queueRenderPage(num) {
      if (pageRendering) {
        pageNumPending = num;
      } else {
        renderPage(num);
      }
    }

    

    function onPrevPage() {
      if (pageNum <= 1) {
        return;
      }
      pageNum--;
      queueRenderPage(pageNum);
    }
    document.getElementById('pdf-prev-6a61455e').addEventListener('click', onPrevPage);

    

    function onNextPage() {
      if (pageNum >= pdfDoc.numPages) {
        return;
      }
      pageNum++;
      queueRenderPage(pageNum);
    }
    document.getElementById('pdf-next-6a61455e').addEventListener('click', onNextPage);

    

    pdfjsLib.getDocument(url).promise.then(function(pdfDoc_) {
      pdfDoc = pdfDoc_;
      var numPages = pdfDoc.numPages;
      document.getElementById('pdf-pagecount-6a61455e').textContent = numPages;

      
      if(pageNum > numPages) {
        pageNum = numPages
      }

      
      renderPage(pageNum);
    });
    })();
</script>

<p><a href="https://github.com/Filpill/ffs_pivAero">Link to PIV Python Code For Results Post Processing</a></p>
<h1 id="experimental-procedure">Experimental Procedure<a hidden class="anchor" aria-hidden="true" href="#experimental-procedure">#</a></h1>
<h3 id="wind-tunnel-experiment">Wind Tunnel Experiment<a hidden class="anchor" aria-hidden="true" href="#wind-tunnel-experiment">#</a></h3>
<ul>
<li>The experimental procedure involves diffusing small oil droplets into the freestream flow and having a sheet of laser light illuminating a cross-section of the airflow. Hundreds of images are captured in the process a high speed camera. Due to the limited field of vision, the results from the top and bottom of the step were recorded separately.</li>
</ul>
<h3 id="image-post-processing">Image Post-Processing<a hidden class="anchor" aria-hidden="true" href="#image-post-processing">#</a></h3>
<ul>
<li>Images need some further preparation to enable reliable PIV results. Usually this involves enhancing contrast of the images to make the particles visible. Additionally any background noise picked up by the camera needs to be subtracted from the image as we want to isolate the airflow as much as possible.</li>
</ul>
<h3 id="openpiv-and-python-post-process-scripts">OpenPIV and Python Post-Process Scripts<a hidden class="anchor" aria-hidden="true" href="#openpiv-and-python-post-process-scripts">#</a></h3>
<ul>
<li>Particle displacements on the images can be determined by performing a cross-correlation on the series of image pairs. In my case, I used OpenPIV software written in Python to extract all the velocity fields at all the times steps recorded.  Additionally, I&rsquo;ve written some post-processing scripts for the velocity data text files in Python to animate experimental results. (I used MATLAB equivalents for my dissertation at the time of the project).</li>
</ul>
<h1 id="experimental-arrangement">Experimental Arrangement<a hidden class="anchor" aria-hidden="true" href="#experimental-arrangement">#</a></h1>
<ul>
<li>Illustration of camera and laser positioning to capture wind tunnel data.</li>
<li>Raw wind tunnel image with imageJ enhancements - Capturing illuminated particles moving over step within laser plane.</li>
</ul>
<p>

	<img src="/img/piv/ffs-setup.png" width="720"  />




	<img src="/img/piv/ffs-raw.png" width="720"  />

</p>
<h1 id="particle-image-velocimetry-results">Particle Image Velocimetry Results<a hidden class="anchor" aria-hidden="true" href="#particle-image-velocimetry-results">#</a></h1>
<h2 id="instantaneous-velocity-streamplot">Instantaneous Velocity Streamplot<a hidden class="anchor" aria-hidden="true" href="#instantaneous-velocity-streamplot">#</a></h2>
<h3 id="front-step">Front Step<a hidden class="anchor" aria-hidden="true" href="#front-step">#</a></h3>


	<img src="/img/piv/piv-front-streamplot.gif" width="720"  />


<h3 id="top-step">Top Step<a hidden class="anchor" aria-hidden="true" href="#top-step">#</a></h3>


	<img src="/img/piv/piv-rear-streamplot.gif" width="720"  />


<h2 id="time-averaged-velocity-contours">Time Averaged Velocity Contours<a hidden class="anchor" aria-hidden="true" href="#time-averaged-velocity-contours">#</a></h2>
<h3 id="front-step-1">Front Step<a hidden class="anchor" aria-hidden="true" href="#front-step-1">#</a></h3>


	<img src="/img/piv/piv-front-vel-results.gif" width="720"  />


<h3 id="top-step-1">Top Step<a hidden class="anchor" aria-hidden="true" href="#top-step-1">#</a></h3>


	<img src="/img/piv/piv-rear-vel-results.gif" width="720"  />


<h2 id="turbulence-intensity-contours">Turbulence Intensity Contours<a hidden class="anchor" aria-hidden="true" href="#turbulence-intensity-contours">#</a></h2>
<h3 id="front-step-2">Front Step<a hidden class="anchor" aria-hidden="true" href="#front-step-2">#</a></h3>


	<img src="/img/piv/piv-front-turb-results.gif" width="720"  />


<h3 id="top-step-2">Top Step<a hidden class="anchor" aria-hidden="true" href="#top-step-2">#</a></h3>


	<img src="/img/piv/piv-rear-turb-results.gif" width="720"  />





  </div>


  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://filpill.github.io/projects/2018-06-17-uav-aircraft-design/">
    <span class="title">Â« Prev</span>
    <br>
    <span>UAV Aircraft Design</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://filpill.github.io/">Filip Livancic</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
